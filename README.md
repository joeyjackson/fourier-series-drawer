# fourier-series-drawer
Web application that draws arbitrary shapes using a fourier series and epicycles

## Installing Dependencies
```
npm install
cd react-app && npm install
```

## Running the Application
NOTE: By default, the application will serve from port 3002
### Development
```
npm run build
npm run dev
```
This will run 2 servers that watch for changes on the frontend and backend:
* http://localhost:3000 will hot-reload changes to the frontend (react-app)
* http://localhost:3002 will hot-reload changes to the backend - frontend changes will not be reflected here as it serves the `build` react page


### Serving Locally
```
npm run build
npm run serve
```
To stop the server:
```
npm run stop
```


### Docker:
```
npm run docker-build-nc
npm run docker-run
```

## Interacting with the Web Application
On each page load, the web application will draw a particular signal path using a number of epicycles.
The epicycles are generated by taking the DFT of the signal path on the backend server.

Specific parameters for controlling the animation can be specified as url query parameters: 
* Example: http://localhost:3002/?object=heart&duration_ms=1000&epicycles=128 

### URL Query Params:
* `object`: name of the signal to draw (default: `random`)
  * A full list of available paths can be seen viewed in the `assets` folder
* `duration_ms`: duration to spend drawing the signal (default: `10000`)
* `epicycles`: number of epicycles to use to approximate the signal, more epicycles will create a better approximation (default: `64`)


## [Advanced] Adding New Signals
1. Add a png file to the `assets` directory with a black silouette image of the shape - the name of the file will also be the name of the path
2. Run `npm run gen_paths` to execute the python script which will convert the image into a path of points (uses OpenCV to find the contours) which can be served from the express server (paths stored in `backend/src/paths.ts`)